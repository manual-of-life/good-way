shadow$provide.module$node_modules$$tauri_apps$api$primitives_cjs=function(global,require,module,exports){function transformCallback(callback,once=!1){return window.__TAURI_INTERNALS__.transformCallback(callback,once)}async function invoke(cmd,args={},options){return window.__TAURI_INTERNALS__.invoke(cmd,args,options)}var tslib_es6=require("module$node_modules$$tauri_apps$api$external$tslib$tslib_es6_cjs");class Channel{constructor(){this.__TAURI_CHANNEL_MARKER__=!0;_Channel_onmessage.set(this,()=>
{});this.id=transformCallback(response=>{tslib_es6.__classPrivateFieldGet(this,_Channel_onmessage,"f").call(this,response)})}set onmessage(handler){tslib_es6.__classPrivateFieldSet(this,_Channel_onmessage,handler,"f")}get onmessage(){return tslib_es6.__classPrivateFieldGet(this,_Channel_onmessage,"f")}toJSON(){return`__CHANNEL__:${this.id}`}}var _Channel_onmessage=new WeakMap;class PluginListener{constructor(plugin,event,channelId){this.plugin=plugin;this.event=event;this.channelId=channelId}async unregister(){return invoke(`plugin:${this.plugin}|remove_listener`,
{event:this.event,channelId:this.channelId})}}exports.Channel=Channel;exports.PluginListener=PluginListener;exports.addPluginListener=async function(plugin,event,cb){const handler=new Channel;handler.onmessage=cb;return invoke(`plugin:${plugin}|register_listener`,{event,handler}).then(()=>new PluginListener(plugin,event,handler.id))};exports.convertFileSrc=function(filePath,protocol="asset"){return window.__TAURI_INTERNALS__.convertFileSrc(filePath,protocol)};exports.invoke=invoke;exports.transformCallback=
transformCallback}
//# sourceMappingURL=module$node_modules$$tauri_apps$api$primitives_cjs.js.map
